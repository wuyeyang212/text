<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="css/shopcar.css">
    <script type="text/javascript" src="js/auto-size.js"></script>

</head>
<body>
	<div class="fix_head">
		<a href="javascript:history.go(-1);" class="back">
			<img src="image/back.jpg">
		</a>
		<p>购物车</p>
		<a href="home.html" class="home">
			<!-- <img src="image/home.jpg"> -->
		</a>
	</div>
	<div class="sc_h"></div>
	<div class="lb">
		<div class="check">
			<div class="xz" data="0"></div>
		</div>
		<img src="image/spt.jpg" class="spt">
		<div class="mid">
			<p class="name">sdasdasdasdas</p>
			<p class="color">颜色:白色</p>
			<div class="jj">
				<span class="jia">-</span>
				<input class="num" value="1">
				<span class="jian">+</span>
			</div>
		</div>
		<div class="jgq">
			<div class="price"><p>积分：<span class="pri">334</span></p></div>
			<div class="price_de"><p><del>￥30.00</del></p></div>
			<img src="image/del.jpg" class="del">
		</div>
	</div>
	<div class="lb">
		<div class="check">
			<div class="xz" data="0"></div>
		</div>
		<img src="image/spt.jpg" class="spt">
		<div class="mid">
			<p class="name">sadsadasdsad</p>
			<p class="color">颜色:白色</p>
			<div class="jj">
				<span class="jia">-</span>
				<input class="num" value="1">
				<span class="jian">+</span>
			</div>
		</div>
		<div class="jgq">
			<div class="price"><p>积分：<span class="pri">334</span></p></div>
			<div class="price_de"><p><del>￥30.00</del></p></div>
			<img src="image/del.jpg" class="del">
		</div>
	</div>
	<div class="lb">
		<div class="check">
			<div class="xz" data="0"></div>
		</div>
		<img src="image/spt.jpg" class="spt">
		<div class="mid">
			<p class="name">sadsad</p>
			<p class="color">颜色:白色</p>
			<div class="jj">
				<span class="jia">-</span>
				<input class="num" value="1">
				<span class="jian">+</span>
			</div>
		</div>
		<div class="jgq">
			<div class="price"><p>积分：<span class="pri">334</span></p></div>
			<div class="price_de"><p><del>￥30.00</del></p></div>
			<img src="image/del.jpg" class="del">
		</div>
	</div>
	<div class="fix_bottom">
		<div id="qx" data="0"></div><span style="float:left;line-height:0.8rem;">全选</span>
		<div class="zjq">
		<p class="p1">合计:
		<span id="zj" >0</span>
		</p>
		<p>含运费</p>
		</div>
		<a id="js" href="order.html">结算(<span id="zsl">0</span>)</a>
	</div>
  <script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
	<script type="text/javascript">
		$(function(){
			js();
			$(".xz").click(function(){
				var a = $(this).attr("data");
				if (a==0) {
					$(this).css("background-image","url(image/check_on.jpg)");
					$(this).attr("data",1)
				}else{
					$(this).css("background-image","url(image/check.jpg)");
					$(this).attr("data",0)
					$("#qx").attr("data",0);
					$("#qx").css("background-image","url(image/check.jpg)");
				}
				js();

			})
			$("#qx").click(function(){
				var a = $(this).attr("data");
				if (a==0) {
					$(".xz").attr("data",1);
				$(this).css("background-image","url(image/check_on.jpg)");
				$(".xz").css("background-image","url(image/check_on.jpg)");
				$(this).attr("data",1);
				}else{
					$(".xz").attr("data",0);
				$(this).css("background-image","url(image/check.jpg)");
				$(".xz").css("background-image","url(image/check.jpg)");
					$(this).attr("data",0);
				}
				js();
			})
			$(".jian").click(function(){
				var a = $(this).prev().val();
				a++;
				$(this).prev().val(a);
				js();

			})
			$(".jia").click(function(){
				var a = $(this).next().val();
				a--;
				$(this).next().val(a);
				var a = $(".xz").attr("data");
				if(a==1){
					js();
				}
			})
			$(".del").click(function(){
				$(this).parent().parent().remove();
				js();
			})
			/*function js(){

				var num=0;
				var conut=0;

				$(".num").each(function(){

		    			var b=$(this).val()
		    		var jg=$(this).parent().parent().next().find(".pri").text();

		    		conut+=parseInt(b);
		    		num+=b*jg;

		  		});
		  		$('#zj').html(num)
			}*/
			 function js(){

				var num=0;
				var conut=0;
				$(".xz").each(function(){
					if ($(this).attr("data")==1) {
						var b = $(this).parent().next().next().find(".num").val();
						var jg = $(this).parent().next().next().next().find(".pri").text();
						conut+=parseInt(b);
		    			num+=b*jg;
					}
				})

		  		$('#zj').html(num);
		  		$('#zsl').html(conut);
			}
		})

	</script>
</body>
</html>
